# Ubuntu安装卸载基础知识




# APT软件包管理系统
`apt-get install` apt一般直接安装已经编译好的可执行文件，会直接帮你处理依赖关系，`apt-get install`安装目录是包的维护者确定的，不是用户。系统安装软件一般在`/usr/share`，可执行的文件在`/usr/bin`，配置文件可能安装到了`/etc`下等。

<br />`apt-get remove` 卸载已安装的软件包（保留配置文件）
<br />`apt-get remove -purge ` 卸载已安装的软件包同时删除配置文件
<br />`apt-get autoremove` 删除为了满足其他软件包的依赖而安装的，但现在不再需要的软件包(新手注意在桌面版的Ubuntu系统下尽量不要使用)
<br />`apt-get update` 更新软件信息数据库
<br />`apt-get upgrade` 进行系统升级，即更新已安装的包
<br />`apt-get autoclean`如果你的硬盘空间不大的话，可以定期运行这个程序，将已经删除了的软件包的`.deb`安装文件从硬盘中删除掉。如果你仍然需要硬盘空间的话，可以试试`apt-get clean`，这会把你已安装的软件包的安装包也删除掉，当然多数情况下这些包没什么用了，因此这是个为硬盘腾地方的好办法。
<br />`apt-get clean` 类似上面的命令，但它删除包缓存中的**所有**包。这是个很好的做法，因为多数情况下这些包没有用了。但如果你是拨号上网的话，就得重新考虑了。



<br />
<br />
<br />
<br />


# 源码
这种软件包里面都是源程序，没有编译过，经过编译后才能安装。源码安装大致可以分为三步:**（./configure）–＞ 编译（sudo make） –＞ 安装（sudo make install）**

1. 配置：这是编译源代码的第一步，通过` ./configure` 命令完成。执行此步以便为编译源代码作准备。常用的选项有 `--prefix=PREFIX`，用以指定程序的安装位置。更多的选项可通过 `--help` 查询。也有某些程序无需执行此步。如果配置了--prefix，如：`./configure --prefix=/usr/local/test`安装后的所有资源文件都会被放在/usr/local/test目录中，不会分散到其他目录。
1. 编译：一旦配置通过，可即刻使用 `make `指令来执行源代码的编译过程。视软件的具体情况而定，编译所需的时间也各有差异，我们所要做的就是耐心等候和静观其变。此步虽然仅下简单的指令，但有时候所遇到的问题却十分复杂。较常碰到的情形是程序编译到中途却无法圆满结束。此时，需要根据出错提示分析以便找到应对之策。
1. 安装：如果编译没有问题，那么执行 `sudo make install `就可以将程序安装到系统中了。
	- 当某个安装的软件不再需要时，只须简单的删除该安装目录，就可以把软件卸载干净；移植软件只需拷贝整个目录到另外一个机器即可（相同的操作系统下）当然要卸载程序，也可以在原来的`make`目录下用一次`make uninstall`，但前提是Makefile文件有uninstall命令。
	- 如果没有配置`--prefix`选项，源码包也没有提供make uninstall，则可以通过以下方式可以完整卸载：设置一个临时目录重新安装一遍，如：` ./configure --prefix=/tmp/to_remove &&makeinstall`然后遍历`/tmp/to_remove`的文件，删除对应安装位置的文件即可（因为`/tmp/to_remove`里的目录结构就是没有配置`--prefix`选项时的目录结构）
	- `locate` 找到要卸载的软件的安装位置，然后删除所有对应的文件。例如： `sudo rm -r /usr/local/include/vtk-8.2 /usr/local/lib/cmake/vtk-8.2/ /usr/local/share/doc/vtk-8.2`

<br />
<br />
<br />
<br />

# DPKG
 Ubuntu系统中，软件通常以`.deb`格式的包文件发布，它是一种预编译软件包。deb包中除了包含已编译的软件，通常还包括软件的拷贝路径、对其他软件包的依赖关系记录、一个比较通用的配置文件以及软件的描述、版本、作者、类别、占用空间等信息。针对`dpkg`来说，它只能安装一个`.deb`格式的包，同时会通知你安装这个包需要什么样的依赖，但是不会安装那些依赖文件，同时也对这个包进行配置，因为那些依赖包并没有下载安装。

deb软件包命令遵行如下约定： `**soft_ver_rev_arch.deb**`soft为软件包名，ver为版本号，rev为Ubuntu修订版本号，arch为目标架构名称

<br /> `dpkg -i | --install xxx.deb` 安装deb安装包
<br /> `dpkg -r | --remove xxx.deb` 删除安装包
<br />`dpkg -r -p |--purge xxx.deb` 连同配置文件一起删除
<br />`dpkg -I | -info xxx.deb` 产看软件包信息
<br />`dpkg -L xxx.deb` 查看文件拷贝信息
<br />`dpkg -l `查看系统中以安装软件包信息
<br />`dpkg-reconfigure xxx` 重新配置软件包

<br />有些时候，使用`dpkg`安装一个软件包，系统会提示该软件包依赖其他软件包。这时，需要先安装其他软件包，知道满足依赖关系为止。或者同时安装多个软件包，如：`dpkg -i aaa.deb bbb.deb ccc.deb` 。但是，如果一个软件依赖关系过于复杂，使用"dpkg"来安装它，并不是一个明智的选择，这个时候需要用到APT软件包管理系统。APT可以自动的检查依赖关系，通过预设的方法来获得相关软件包，并自动安装配置它。事实上，在多数情况下，我们推荐使用APT软件包管理系统。

